webpackJsonp([4],{1240:function(e,t,r){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,i=r(721),s=o(i),d=r(2),l=o(d),p=r(53),c=o(p),m=r(28),u=o(m),h=r(5),g=o(h),f=r(6),w=o(f),x=r(7),b=o(x),v=r(8),O=o(v),P=r(57),y=r(86),E=r(1255),k=(o(E),r(94)),M=o(k),D=r(719),N=o(D),S=r(496),C=r(95),I=r(200),j=o(I);r(1279);var _=function(e){return{user:e.user,orders:e.orders,globalError:e.globalError}},A=(n=(0,P.connect)(_,{fetchOrders:S.fetchOrders,deleteOrder:S.deleteOrder,setGlobalError:C.setGlobalError}))(a=function(t){function r(e){(0,g.default)(this,r);var t=(0,b.default)(this,(r.__proto__||(0,u.default)(r)).call(this,e));return t.compileOrdersDate=function(){var e={};t.props.orders.forEach(function(t){e[t.datePath]=e[t.datePath]?[].concat((0,c.default)(e[t.datePath]),[t.orderName]):[t.orderName]}),t.setState({ordersDates:e})},t.showOrder=function(e){t.setState({showOrder:e})},t.calculateFiles=function(){var e=t.props.orders.find(function(e){return e.orderName===t.state.showOrder}),r={};e.files.forEach(function(e){r[e.format]=r[e.format]?r[e.format]+e.amount:e.amount}),t.setState({orderDescription:(0,l.default)({},r,{status:e.status})})},t.removeShowOrder=function(e){return e.stopPropagation(),e.preventDefault(),t.setState({showOrder:""}),!1},t.showModal=function(){t.setState({modal:{show:!0}})},t.deleteOrder=function(e){e.stopPropagation(),e.preventDefault(),t.state.showOrder&&(t.setState({loading:!0}),t.props.deleteOrder(t.state.showOrder).then(function(){return t.setState({loading:!1})}).catch(function(e){t.setState({loading:!1}),409===e.response.status&&location.reload()}))},t.state={loading:!1,ordersDates:{},showOrder:"",orderDescription:{},modal:{show:!1}},t}return(0,O.default)(r,t),(0,w.default)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.globalError&&this.props.setGlobalError(""),(0,M.default)(this.props.user)?this.props.history.push("/"):(this.setState({loading:!0}),this.props.fetchOrders(this.props.match.params._id).then(function(){e.compileOrdersDate(),e.setState({loading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.showOrder!==t.showOrder&&this.state.showOrder&&this.calculateFiles(),this.props.user!==e.user&&(0,M.default)(this.props.user)&&this.props.history.push("/"),this.props.orders!==e.orders&&(this.setState({showOrder:""}),this.compileOrdersDate())}},{key:"render",value:function(){var t=this,r=e.createElement("div",{className:this.state.orderDescription.status},e.createElement("div",{className:"spiner-progress"}),"Выполняется..."),o=e.createElement("div",{className:this.state.orderDescription.status},e.createElement("i",{className:"fa fa-times"}),"Ждет выполнения"),n=e.createElement("div",{className:this.state.orderDescription.status},e.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),"Выполнен"),a=e.createElement(y.Link,{className:"order-description",to:"/user/user-order/"+this.props.match.params._id+"/"+this.state.showOrder},e.createElement("i",{className:"fa fa-times close",onClick:this.removeShowOrder}),e.createElement("div",{className:"bottom-description"},e.createElement("div",{className:"status"},e.createElement("p",null,"Статус:")," ","await"===this.state.orderDescription.status?o:"progress"===this.state.orderDescription.status?r:n),e.createElement("button",{className:"btn",onClick:this.deleteOrder,disabled:"progress"===this.state.orderDescription.status||!this.state.showOrder},"done"===this.state.orderDescription.status?"Удалить заказ из базы":"Отменить заказ")));return e.createElement(N.default,{appearAnimation:"fade",className:"OrderPage"},e.createElement("div",{className:"main-content"},this.state.loading&&e.createElement(j.default,null),e.createElement("h1",null,"Мои заказы"),this.props.globalError&&e.createElement("h3",{className:"error"},this.props.globalError),e.createElement(N.default,{className:"orders-date-list",enterAnimation:"fade",leaveAnimation:"none"},(0,s.default)(this.state.ordersDates).length<1&&e.createElement("div",{className:"empty"},"Нет заказов"),(0,s.default)(this.state.ordersDates).map(function(r,o){return e.createElement("div",{className:"order-date",key:r},e.createElement("div",{className:"left-content"},e.createElement("div",{className:"date"},"Дата: ",r),t.state.ordersDates[r].map(function(r){return e.createElement("div",{className:t.state.showOrder===r?"orders-names active":"orders-names",key:r,onClick:function(){return t.showOrder(r)}},"Номер: ",r)})),e.createElement("div",{className:-1!==t.state.ordersDates[r].indexOf(t.state.showOrder)?"right-content show":"right-content"},a))}))))}}]),r}(e.Component))||a;t.default=A}).call(t,r(0))},1255:function(e,t,r){(function(e){function r(e,t){for(var r=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function o(e,t){if(e.filter)return e.filter(t);for(var r=[],o=0;o<e.length;o++)t(e[o],o,e)&&r.push(e[o]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var i=a>=0?arguments[a]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return t=r(o(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===i(e,-1);return e=r(o(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=o(e.split("/")),a=o(r.split("/")),i=Math.min(n.length,a.length),s=i,d=0;d<i;d++)if(n[d]!==a[d]){s=d;break}for(var l=[],d=s;d<n.length;d++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),r=t[0],o=t[1];return r||o?(o&&(o=o.substr(0,o.length-1)),r+o):"."},t.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return a(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(45))},1258:function(e,t,r){t=e.exports=r(20)(void 0),t.push([e.i,'.OrderPage .order-description,.OrderPage .orders-date-list{box-sizing:border-box;display:flex;flex-direction:column}.OrderPage .order-description{position:relative;padding:10px 0 10px 15px;border-left:1px solid #ccc;flex-wrap:wrap;transition:border-color,background-color .3s;cursor:pointer}.OrderPage .order-description .bottom-description{display:flex;justify-content:space-between}.OrderPage .order-description .bottom-description .btn{align-self:flex-end}.OrderPage .order-description i.fa-times.close{position:absolute;top:-20px;right:10px;transition:transform .5s;font-size:20px}.OrderPage .order-description i.fa-times.close:hover{transform:scale(1.5)}.OrderPage .order-description:hover{background-color:rgba(0,0,0,.5)}.OrderPage .order-description:hover i.fa-times.close{display:block}.OrderPage .orders-format{display:flex;flex-wrap:wrap;width:100%;margin-bottom:20px}.OrderPage .order-order-description-warpper{margin-right:20px;margin-bottom:10px}.OrderPage .order-date{margin-bottom:20px;padding:10px 10px 10px 0;width:100%;display:flex;flex-wrap:wrap}.OrderPage .order-date .left-content{width:30%}.OrderPage .order-date .right-content{width:70%;transition:opacity 1s;display:none;opacity:0}.OrderPage .order-date .right-content.show{display:initial;opacity:1}.OrderPage .order-date .date{margin-bottom:10px}.OrderPage .order-date .orders-names{cursor:pointer;margin-left:5px;position:relative;margin-bottom:5px;padding-bottom:5px}.OrderPage .order-date .orders-names:after{content:"";position:absolute;bottom:0;left:0;width:0;height:1px;display:block;border-bottom:1px solid #ccc;transition:width .3s}.OrderPage .order-date .orders-names.active:after,.OrderPage .order-date .orders-names:hover:after{width:50%}.OrderPage .done{margin-top:5px;color:#00c83f}.OrderPage .done i{color:#00c83f}.OrderPage .await{margin-top:5px;color:#ff0100}.OrderPage .progress{margin-top:5px;display:flex;align-items:center}.OrderPage .await i,.OrderPage .done i,.OrderPage .progress i{margin-right:20px}.OrderPage .spiner-progress{width:19px;height:19px;border:3px dotted #ccc;border-radius:50%;animation:rotate 4s infinite linear;margin-right:20px}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@media only screen and (min-width:1200px){.MainPage{font-size:18px}.MainPage .header-section{width:80%}.MainContentBlock{padding:25px}.MainContentBlock h3{font-size:30px}}@media only screen and (max-width:999px){.Product{width:48%}.userOrder .item-wrapper{width:33%}}@media only screen and (max-width:850px){.Image{width:25%}}@media only screen and (max-width:800px){.Modal .img-block{width:100%}.Modal .modal-wrapper{flex-direction:column;width:100%}.Modal .modal-content{margin-left:0;margin-top:10px;width:100%}.Loading .cssload-speeding-wheel{width:12vw;height:12vw}}@media only screen and (max-width:750px){.Prices .title{margin-left:30%}.userOrder .item-wrapper,.userOrder .item-wrapper .image{width:50%}.Image{width:33%}}@media only screen and (max-width:700px){.DropMenu{min-width:30vw}.LoginForm .input-block.disabled input,.LoginForm input{width:100%}.OrderPage .order-date{flex-direction:column}.OrderPage .order-date .right-content.show{width:100%;margin-top:10px}.MainContentBlock .images{display:none}}@media only screen and (max-width:600px){.UpperMenu{background-color:transparent}.UpperMenu .right-content{transform:translateX(100%)}.UpperMenu .middle-left-content .logo{transform:translateX(-100%)}.UpperMenu .middle-left-content .navigate{transform:translateX(-150%)}.UpperMenu .Icon{cursor:pointer;width:20px}.DropMenuWrapper{width:50vw}.Footer{padding-top:0;padding-right:0;padding-left:0;flex-direction:column;text-align:center;justify-content:center}.Footer .address,.Footer .phone{margin:0!important}.Footer>div{margin-right:0;padding-right:40px;padding-left:40px}.Image{border-right:none;margin-top:30px}.Loading .cssload-speeding-wheel{width:15vw;height:15vw}.ContactsPage .user-profile-content{width:100%}.ContactsPage .btn{width:100%;text-align:center}}@media only screen and (max-width:530px){.MainContentBlock .main-block-content{width:100%}.UpperMenu .middle-left-content{display:none!important}.App{padding-right:5px;padding-left:5px}.DropMenuWrapper{width:97vw}.Contacts .main{width:100%}.Contacts .btn{position:relative;margin-top:20px;width:100%;margin-bottom:20px}.Contacts .form{flex-direction:column}.Contacts .form input{width:100%}.Contacts .form textarea{width:100%;margin:10px 0 0}.CommonPage .content,.Modal .modal-content{padding:10px}.Loading .cssload-speeding-wheel{width:18vw;height:18vw}.OrderPage .order-description .bottom-description{flex-direction:column}.OrderPage .order-description .bottom-description .btn{margin-top:10px;align-items:flex-start}.userOrder .item-wrapper{width:100%;flex-direction:column}.userOrder .item-wrapper .image{width:100%;border:1px solid #ccc}.userOrder .item-wrapper .right-content-user-order-item{margin-left:0;border-left:none;border-bottom:1px solid #ccc;padding-bottom:10px;margin-top:10px}.userOrder .btn-wrapper .btn{width:100%}.Image{width:50%}}@media only screen and (max-width:750px){.Prices .title{margin-left:10%}}@media only screen and (max-width:600px){.EmptyImage .inner{width:20vw;height:20vw}.Product{width:90%;margin:0 auto}.ProductsContent .content-wrapper-item{justify-content:space-between;flex-direction:column}.ProductWrapper .select-wrapper{flex-direction:column;align-items:flex-start}.ProductWrapper .select-wrapper .Option{width:60%}.ShowImages .preview .buttons{justify-content:center}}@media only screen and (max-width:400px){.Product{width:100%}.ProductsContent .wrapper-pages{width:30%}.ProductWrapper .select-wrapper{flex-direction:column}.ProductWrapper .select-wrapper .Option{width:100%;margin-bottom:30px}.ProductWrapper .select-wrapper .title{margin-bottom:20px;align-self:flex-start}.Modal{padding-left:5px;padding-right:5px}.ShowImages .upper-labels{flex-direction:column;align-items:flex-start}.ShowImages .upper-labels .btn{width:100%;text-align:center}.ShowImages .upper-labels .btn:first-child{margin-bottom:10px}.ShowImages .upper-labels .Option{max-width:none}.ShowImages .upper-labels .left-btns,.ShowImages .upper-labels .Option,.ShowImages .upper-labels .right-btns{margin-top:10px;margin-left:0;width:100%}.Loading .cssload-speeding-wheel{width:25vw;height:25vw}.LoginForm .btn.login-button{position:relative}.Image{width:100%}}@media only screen and (max-width:360px){.Contacts .wrapper a,.Contacts .wrapper p{margin-left:0}}@media only screen and (max-height:370px){.DropMenu{font-size:11px}}',""])},1279:function(e,t,r){var o=r(1258);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0};n.transform=void 0;var a=r(21)(o,n);o.locals&&(e.exports=o.locals),o.locals||e.hot.accept(1258,function(){var t=r(1258);"string"==typeof t&&(t=[[e.i,t,""]]),a(t)}),e.hot.dispose(function(){a()})},721:function(e,t,r){e.exports={default:r(722),__esModule:!0}},722:function(e,t,r){r(723),e.exports=r(11).Object.keys},723:function(e,t,r){var o=r(63),n=r(64);r(141)("keys",function(){return function(e){return n(o(e))}})}});