webpackJsonp([5],{1239:function(e,t,r){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=r(2),s=n(a),d=r(28),p=n(d),l=r(5),c=n(l),u=r(6),m=n(u),h=r(7),f=n(h),g=r(8),w=n(g),x=r(57),b=r(1255),v=n(b),y=r(720),O=r(94),P=n(O),I=r(496),M=r(126),E=r(200),C=n(E),k=r(1249),F=n(k),j=r(1256),N=n(j);r(1278);var S=function(e){return{user:e.user,orders:e.orders,fotoParams:e.fotoParams,globalError:e.globalError}},U=(i=(0,x.connect)(S,{fetchOrders:I.fetchOrders,addFotoParams:M.addFotoParams,fetchFotoParams:M.fetchFotoParams,deleteUserFoto:M.deleteUserFoto}))(o=function(t){function r(t){(0,c.default)(this,r);var n=(0,f.default)(this,(r.__proto__||(0,p.default)(r)).call(this,t));return n.showImages=function(){return e.createElement("div",{className:"user-order-files"},!n.state.error&&!(0,P.default)(n.state.currentOrder)&&n.state.currentOrder.files.map(function(t){var r=(0,y.checkFileType)(t.filePath);return e.createElement("div",{className:"item-wrapper",key:t.id},e.createElement("div",{className:"image"},e.createElement("img",{key:t.id,src:"image"===r?t.filePath:"archive"===r?N.default:F.default,alt:t.id})),e.createElement("div",{className:"right-content-user-order-item"},e.createElement("div",null,"Формат: ",t.format),e.createElement("div",null,"Бумага: ",n.props.fotoParams.find(function(e){return e.title===t.format})&&n.props.fotoParams.find(function(e){return e.title===t.format}).paperType.find(function(e){return e.title===t.paper}).name),e.createElement("div",null,"Количество: ",t.amount)))}))},n.sendNewOrder=function(){if(!(0,P.default)(n.state.currentOrder)){var e=n.state.currentOrder.files.map(function(e){var t=e.filePath.split("\\");return(0,s.default)({},e,{dataImage:v.default.join("/",n.state.currentOrder.datePath,e.filePath),name:t[t.length-1]})});n.props.addFotoParams(e).then(function(){return n.props.history.push("/private")})}},n.state={loading:!1,userId:n.props.match.params.userId||"",orderId:n.props.match.params.orderId||"",currentOrder:{},error:""},n}return(0,w.default)(r,t),(0,m.default)(r,[{key:"componentWillMount",value:function(){var e=this;this.setState({loading:!0}),(0,P.default)(this.props.user)?this.props.history.push("/"):(this.props.fetchFotoParams(),this.props.fetchOrders(this.props.match.params.userId).then(function(){if(e.setState({loading:!1,currentOrder:e.props.orders.find(function(t){return t.orderName===e.state.orderId})}),(0,P.default)(e.state.currentOrder))return e.setState({error:"Заказ уже удален"}),void e.props.deleteUserFoto(e.state.orderId)}))}},{key:"componentDidUpdate",value:function(e,t){this.props.user!==e.user&&(0,P.default)(this.props.user)&&this.props.history.push("/")}},{key:"render",value:function(){return e.createElement("div",{className:"userOrder"},e.createElement("h1",null,"Заказ №: ",this.state.orderId),e.createElement("div",{className:"btn-wrapper"},e.createElement("button",{disabled:this.props.globalError||this.state.error,className:"btn",onClick:this.sendNewOrder},"Разместить заказ на основе существующего")),this.props.globalError&&e.createElement("div",{className:"error"},this.props.globalError),this.state.error&&e.createElement("div",{className:"error"},this.state.error),this.state.loading?e.createElement(C.default,null):this.showImages())}}]),r}(e.Component))||o;t.default=U}).call(t,r(0))},1249:function(e,t,r){e.exports=r.p+"0e6cd2289e26228b2b9b4719019358f2.png"},1255:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,d=0;d<a;d++)if(i[d]!==o[d]){s=d;break}for(var p=[],d=s;d<i.length;d++)p.push("..");return p=p.concat(o.slice(s)),p.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(45))},1256:function(e,t,r){e.exports=r.p+"c59c904073284993091ad8f859127b1a.jpg"},1257:function(e,t,r){t=e.exports=r(20)(void 0),t.push([e.i,".userOrder{position:relative}.userOrder .user-order-files{display:flex;flex-wrap:wrap}.userOrder .user-order-files img{width:100%;box-sizing:border-box}.userOrder .item-wrapper{margin-bottom:20px;display:flex;width:25%;box-sizing:border-box}.userOrder .item-wrapper .image{width:42%}.userOrder .right-content-user-order-item{margin-left:20px;border-left:1px solid #ccc;padding-left:10px}.userOrder .btn-wrapper{width:100%;display:flex;justify-content:flex-end}.userOrder .btn-wrapper .btn{width:45%;text-align:center;margin-bottom:20px}.userOrder .error{margin-top:20px}@media only screen and (min-width:1200px){.MainPage{font-size:18px}.MainPage .header-section{width:80%}.MainContentBlock{padding:25px}.MainContentBlock h3{font-size:30px}}@media only screen and (max-width:999px){.Product{width:48%}.userOrder .item-wrapper{width:33%}}@media only screen and (max-width:850px){.Image{width:25%}}@media only screen and (max-width:800px){.Modal .img-block{width:100%}.Modal .modal-wrapper{flex-direction:column;width:100%}.Modal .modal-content{margin-left:0;margin-top:10px;width:100%}.Loading .cssload-speeding-wheel{width:12vw;height:12vw}}@media only screen and (max-width:750px){.Prices .title{margin-left:30%}.userOrder .item-wrapper,.userOrder .item-wrapper .image{width:50%}.Image{width:33%}}@media only screen and (max-width:700px){.DropMenu{min-width:30vw}.LoginForm .input-block.disabled input,.LoginForm input{width:100%}.OrderPage .order-date{flex-direction:column}.OrderPage .order-date .right-content.show{width:100%;margin-top:10px}.MainContentBlock .images{display:none}}@media only screen and (max-width:600px){.UpperMenu{background-color:transparent}.UpperMenu .right-content{transform:translateX(100%)}.UpperMenu .middle-left-content .logo{transform:translateX(-100%)}.UpperMenu .middle-left-content .navigate{transform:translateX(-150%)}.UpperMenu .Icon{cursor:pointer;width:20px}.DropMenuWrapper{width:50vw}.Footer{padding-top:0;padding-right:0;padding-left:0;flex-direction:column;text-align:center;justify-content:center}.Footer .address,.Footer .phone{margin:0!important}.Footer>div{margin-right:0;padding-right:40px;padding-left:40px}.Image{border-right:none;margin-top:30px}.Loading .cssload-speeding-wheel{width:15vw;height:15vw}.ContactsPage .user-profile-content{width:100%}.ContactsPage .btn{width:100%;text-align:center}}@media only screen and (max-width:530px){.MainContentBlock .main-block-content{width:100%}.UpperMenu .middle-left-content{display:none!important}.App{padding-right:5px;padding-left:5px}.DropMenuWrapper{width:97vw}.Contacts .main{width:100%}.Contacts .btn{position:relative;margin-top:20px;width:100%;margin-bottom:20px}.Contacts .form{flex-direction:column}.Contacts .form input{width:100%}.Contacts .form textarea{width:100%;margin:10px 0 0}.CommonPage .content,.Modal .modal-content{padding:10px}.Loading .cssload-speeding-wheel{width:18vw;height:18vw}.OrderPage .order-description .bottom-description{flex-direction:column}.OrderPage .order-description .bottom-description .btn{margin-top:10px;align-items:flex-start}.userOrder .item-wrapper{width:100%;flex-direction:column}.userOrder .item-wrapper .image{width:100%;border:1px solid #ccc}.userOrder .item-wrapper .right-content-user-order-item{margin-left:0;border-left:none;border-bottom:1px solid #ccc;padding-bottom:10px;margin-top:10px}.userOrder .btn-wrapper .btn{width:100%}.Image{width:50%}}@media only screen and (max-width:750px){.Prices .title{margin-left:10%}}@media only screen and (max-width:600px){.EmptyImage .inner{width:20vw;height:20vw}.Product{width:90%;margin:0 auto}.ProductsContent .content-wrapper-item{justify-content:space-between;flex-direction:column}.ProductWrapper .select-wrapper{flex-direction:column;align-items:flex-start}.ProductWrapper .select-wrapper .Option{width:60%}.ShowImages .preview .buttons{justify-content:center}}@media only screen and (max-width:400px){.Product{width:100%}.ProductsContent .wrapper-pages{width:30%}.ProductWrapper .select-wrapper{flex-direction:column}.ProductWrapper .select-wrapper .Option{width:100%;margin-bottom:30px}.ProductWrapper .select-wrapper .title{margin-bottom:20px;align-self:flex-start}.Modal{padding-left:5px;padding-right:5px}.ShowImages .upper-labels{flex-direction:column;align-items:flex-start}.ShowImages .upper-labels .btn{width:100%;text-align:center}.ShowImages .upper-labels .btn:first-child{margin-bottom:10px}.ShowImages .upper-labels .Option{max-width:none}.ShowImages .upper-labels .left-btns,.ShowImages .upper-labels .Option,.ShowImages .upper-labels .right-btns{margin-top:10px;margin-left:0;width:100%}.Loading .cssload-speeding-wheel{width:25vw;height:25vw}.LoginForm .btn.login-button{position:relative}.Image{width:100%}}@media only screen and (max-width:360px){.Contacts .wrapper a,.Contacts .wrapper p{margin-left:0}}@media only screen and (max-height:370px){.DropMenu{font-size:11px}}",""])},1278:function(e,t,r){var n=r(1257);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0};i.transform=void 0;var o=r(21)(n,i);n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(1257,function(){var t=r(1257);"string"==typeof t&&(t=[[e.i,t,""]]),o(t)}),e.hot.dispose(function(){o()})},720:function(e,t,r){"use strict";function n(e){var t=e.split("\\"),r=t[t.length-1].split(".")[1].toLowerCase();return-1!==i.indexOf(r)?"image":-1!==o.indexOf(r)?"archive":"other type"}Object.defineProperty(t,"__esModule",{value:!0}),t.checkFileType=n;var i=t.images=["jpg","jpeg","ttf","png","bmp","gif","jpe","tiff"],o=t.archives=["rar","zip"]}});